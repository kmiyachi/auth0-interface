{"ast":null,"code":"var _jsxFileName = \"C:\\\\Dev\\\\auth0-interface\\\\frontend\\\\src\\\\Login\\\\LoginForm.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport './LoginForm.css';\nimport { Button } from 'react-bootstrap';\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handleUserLoginChange = event => {\n      event.preventDefault();\n      this.username = event.target.value;\n    };\n\n    this.handlePasswordLoginChange = event => {\n      event.preventDefault();\n      this.password = event.target.value;\n    };\n\n    this.username = \"\";\n    this.password = \"\";\n    this.login_error = false;\n    this.missing_info = false;\n    this.state = {\n      login_success: \"\"\n    };\n    this.onChange = this.onChange.bind(this);\n    this.handleUserLoginChange = this.handleUserLoginChange.bind(this);\n    this.handlePasswordLoginChange = this.handlePasswordLoginChange.bind(this);\n    this.callLogin = this.callLogin.bind(this);\n  }\n\n  componentDidMount() {\n    const renewSession = this.props.auth.renewSession;\n\n    if (localStorage.getItem('loggedIn') === 'true') {\n      renewSession();\n    }\n  }\n\n  auth_login() {\n    this.props.auth.login();\n  }\n\n  auth_logout() {\n    this.props.auth.logout();\n  }\n\n  callLogin() {\n    if (this.password && this.username) {\n      this.missing_info = false;\n      $.ajax({\n        url: 'http://localhost:4000/login',\n        type: 'POST',\n        contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\n        crossDomain: true,\n        dataType: 'json',\n        xhrFields: {\n          withCredentials: true\n        },\n        data: {\n          username: this.username,\n          password: this.password\n        },\n        success: data => {\n          if (data.message === \"OK\") {\n            console.log('success');\n            this.login_error = false;\n            this.setState({\n              login_success: true\n            });\n            this.auth_login();\n          } else {\n            this.login_error = true;\n            this.setState({\n              login_success: false\n            });\n            console.log('failure');\n          }\n        }\n      });\n    } else {\n      this.missing_info = true;\n      this.setState({\n        login_success: false\n      });\n    }\n  }\n\n  render() {\n    console.log(\"rendering\");\n    return React.createElement(\"div\", {\n      className: \"interface\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"loginForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"loginFormField\",\n      placeholder: \"Username\",\n      onChange: this.handleUserLoginChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"loginFormField\",\n      placeholder: \"Password\",\n      onChange: this.handlePasswordLoginChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), this.login_error && !this.missing_info ? React.createElement(\"div\", {\n      className: \"error_msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Either your username or password is incorrect.\") : null, this.missing_info ? React.createElement(\"div\", {\n      className: \"error_msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Please complete empty fields.\") : null, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"loginButton\",\n      value: \"Login\",\n      onClick: this.callLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"registerDiv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.props.history.replace('/signup'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Don't have an account? Sign Up\")));\n  }\n\n}\n\nexport default LoginForm;","map":{"version":3,"sources":["C:\\Dev\\auth0-interface\\frontend\\src\\Login\\LoginForm.js"],"names":["React","Component","$","Button","LoginForm","constructor","props","onChange","e","setState","target","id","value","handleUserLoginChange","event","preventDefault","username","handlePasswordLoginChange","password","login_error","missing_info","state","login_success","bind","callLogin","componentDidMount","renewSession","auth","localStorage","getItem","auth_login","login","auth_logout","logout","ajax","url","type","contentType","crossDomain","dataType","xhrFields","withCredentials","data","success","message","console","log","render","history","replace"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAO,iBAAP;AACA,SAASC,MAAT,QAAuB,iBAAvB;;AAEA,MAAMC,SAAN,SAAwBH,SAAxB,CAAkC;AAChCI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAgBnBC,QAhBmB,GAgBRC,CAAC,IAAI;AACd,WAAKC,QAAL,CAAc;AACZ,SAACD,CAAC,CAACE,MAAF,CAASC,EAAV,GAAeH,CAAC,CAACE,MAAF,CAASE;AADZ,OAAd;AAGD,KApBkB;;AAAA,SAsCnBC,qBAtCmB,GAsCKC,KAAK,IAAI;AAC/BA,MAAAA,KAAK,CAACC,cAAN;AACA,WAAKC,QAAL,GAAgBF,KAAK,CAACJ,MAAN,CAAaE,KAA7B;AACD,KAzCkB;;AAAA,SA2CnBK,yBA3CmB,GA2CSH,KAAK,IAAI;AACnCA,MAAAA,KAAK,CAACC,cAAN;AACA,WAAKG,QAAL,GAAgBJ,KAAK,CAACJ,MAAN,CAAaE,KAA7B;AACD,KA9CkB;;AAEjB,SAAKI,QAAL,GAAgB,EAAhB;AACA,SAAKE,QAAL,GAAgB,EAAhB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,YAAL,GAAoB,KAApB;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,aAAa,EAAE;AADJ,KAAb;AAIA,SAAKf,QAAL,GAAgB,KAAKA,QAAL,CAAcgB,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKV,qBAAL,GAA6B,KAAKA,qBAAL,CAA2BU,IAA3B,CAAgC,IAAhC,CAA7B;AACA,SAAKN,yBAAL,GAAiC,KAAKA,yBAAL,CAA+BM,IAA/B,CAAoC,IAApC,CAAjC;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AACD;;AAQDE,EAAAA,iBAAiB,GAAG;AAAA,UACVC,YADU,GACO,KAAKpB,KAAL,CAAWqB,IADlB,CACVD,YADU;;AAGlB,QAAIE,YAAY,CAACC,OAAb,CAAqB,UAArB,MAAqC,MAAzC,EAAiD;AAC/CH,MAAAA,YAAY;AACb;AACF;;AAEDI,EAAAA,UAAU,GAAG;AACX,SAAKxB,KAAL,CAAWqB,IAAX,CAAgBI,KAAhB;AACD;;AAEDC,EAAAA,WAAW,GAAG;AACZ,SAAK1B,KAAL,CAAWqB,IAAX,CAAgBM,MAAhB;AACD;;AAYDT,EAAAA,SAAS,GAAG;AACV,QAAI,KAAKN,QAAL,IAAiB,KAAKF,QAA1B,EAAoC;AAClC,WAAKI,YAAL,GAAoB,KAApB;AACAlB,MAAAA,CAAC,CAACgC,IAAF,CAAO;AACLC,QAAAA,GAAG,EAAE,6BADA;AAELC,QAAAA,IAAI,EAAE,MAFD;AAGLC,QAAAA,WAAW,EAAE,kDAHR;AAILC,QAAAA,WAAW,EAAE,IAJR;AAKLC,QAAAA,QAAQ,EAAE,MALL;AAMLC,QAAAA,SAAS,EAAE;AAAEC,UAAAA,eAAe,EAAE;AAAnB,SANN;AAOLC,QAAAA,IAAI,EAAE;AACJ1B,UAAAA,QAAQ,EAAE,KAAKA,QADX;AAEJE,UAAAA,QAAQ,EAAE,KAAKA;AAFX,SAPD;AAWLyB,QAAAA,OAAO,EAAGD,IAAD,IAAU;AACjB,cAAIA,IAAI,CAACE,OAAL,KAAiB,IAArB,EAA2B;AACzBC,YAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,iBAAK3B,WAAL,GAAmB,KAAnB;AACA,iBAAKV,QAAL,CAAc;AAAEa,cAAAA,aAAa,EAAE;AAAjB,aAAd;AACA,iBAAKQ,UAAL;AACD,WALD,MAKO;AACL,iBAAKX,WAAL,GAAmB,IAAnB;AACA,iBAAKV,QAAL,CAAc;AAAEa,cAAAA,aAAa,EAAE;AAAjB,aAAd;AACAuB,YAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACD;AACF;AAtBI,OAAP;AAwBD,KA1BD,MA0BO;AACL,WAAK1B,YAAL,GAAoB,IAApB;AACA,WAAKX,QAAL,CAAc;AAAEa,QAAAA,aAAa,EAAE;AAAjB,OAAd;AACD;AACF;;AAEDyB,EAAAA,MAAM,GAAG;AACPF,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,WACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,gBAA7B;AAA8C,MAAA,WAAW,EAAC,UAA1D;AAAqE,MAAA,QAAQ,EAAE,KAAKjC,qBAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,SAAS,EAAC,gBAAjC;AAAkD,MAAA,WAAW,EAAC,UAA9D;AAAyE,MAAA,QAAQ,EAAE,KAAKI,yBAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIG,KAAKE,WAAL,IAAoB,CAAC,KAAKC,YAA1B,GACC;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDADD,GAEG,IANN,EAQG,KAAKA,YAAL,GACC;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADD,GAEG,IAVN,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,SAAS,EAAC,aAA/B;AAA6C,MAAA,KAAK,EAAC,OAAnD;AAA2D,MAAA,OAAO,EAAE,KAAKI,SAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAZF,CADF,EAiBE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKlB,KAAL,CAAW0C,OAAX,CAAmBC,OAAnB,CAA2B,SAA3B,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADF,CAjBF,CADF;AAuBD;;AA3G+B;;AA8GlC,eAAe7C,SAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport './LoginForm.css'\r\nimport { Button } from 'react-bootstrap';\r\n\r\nclass LoginForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.username = \"\";\r\n    this.password = \"\";\r\n    this.login_error = false;\r\n    this.missing_info = false;\r\n    this.state = {\r\n      login_success: \"\",\r\n    };\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.handleUserLoginChange = this.handleUserLoginChange.bind(this);\r\n    this.handlePasswordLoginChange = this.handlePasswordLoginChange.bind(this);\r\n    this.callLogin = this.callLogin.bind(this);\r\n  }\r\n  \r\n  onChange = e => {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { renewSession } = this.props.auth;\r\n\r\n    if (localStorage.getItem('loggedIn') === 'true') {\r\n      renewSession();\r\n    }\r\n  }\r\n\r\n  auth_login() {\r\n    this.props.auth.login();\r\n  }\r\n\r\n  auth_logout() {\r\n    this.props.auth.logout();\r\n  }\r\n\r\n  handleUserLoginChange = event => {\r\n    event.preventDefault()\r\n    this.username = event.target.value;\r\n  }\r\n\r\n  handlePasswordLoginChange = event => {\r\n    event.preventDefault()\r\n    this.password = event.target.value;\r\n  }\r\n\r\n  callLogin() {\r\n    if (this.password && this.username) {\r\n      this.missing_info = false;\r\n      $.ajax({\r\n        url: 'http://localhost:4000/login',\r\n        type: 'POST',\r\n        contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\r\n        crossDomain: true,\r\n        dataType: 'json',\r\n        xhrFields: { withCredentials: true },\r\n        data: {\r\n          username: this.username,\r\n          password: this.password\r\n        },\r\n        success: (data) => {\r\n          if (data.message === \"OK\") {\r\n            console.log('success');\r\n            this.login_error = false;\r\n            this.setState({ login_success: true });\r\n            this.auth_login()\r\n          } else {\r\n            this.login_error = true;\r\n            this.setState({ login_success: false });\r\n            console.log('failure');\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      this.missing_info = true;\r\n      this.setState({ login_success: false });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(\"rendering\")\r\n    return (\r\n      <div className=\"interface\">\r\n        <div className=\"loginForm\">\r\n          <input type=\"text\" className=\"loginFormField\" placeholder=\"Username\" onChange={this.handleUserLoginChange} />\r\n          <br></br>\r\n          <input type=\"password\" className=\"loginFormField\" placeholder=\"Password\" onChange={this.handlePasswordLoginChange} />\r\n          {this.login_error && !this.missing_info ?\r\n            <div className=\"error_msg\">Either your username or password is incorrect.</div>\r\n            : null\r\n          }\r\n          {this.missing_info ?\r\n            <div className=\"error_msg\">Please complete empty fields.</div>\r\n            : null\r\n          }\r\n          <div>\r\n            <input type=\"submit\" className=\"loginButton\" value=\"Login\" onClick={this.callLogin}></input>\r\n          </div>\r\n        </div>\r\n        <div className=\"registerDiv\">\r\n          <Button onClick={this.props.history.replace('/signup')}>Don't have an account? Sign Up</Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}